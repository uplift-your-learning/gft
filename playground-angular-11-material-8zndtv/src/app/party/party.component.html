<div class="party-details-container">
  <div>
    <button
      class="add-new-bank-details"
      type="button"
      color="primary"
      mat-raised-button
      (click)="addParty()"
    >
      Add new Party
    </button>
  </div>
  <div class="table-container">
    <!-- <table>
      <thead>
        <tr>
          <th>Company Name</th>
          <th>Mobile No</th>
          <th>Telephone No</th>
          <th>Whatsapp No</th>
          <th>Email</th>
          <th>Date of Birth</th>
          <th>Anniversary Date</th>
          <th>Gstin</th>
          <th>Pan No</th>
          <th>Credit Limit</th>
          <th>Active</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let partyDetail of partyDetails; let i = index">
          <tr>
            <td>
              <div class="link" (click)="editPartyDetails(i)">
                {{ partyDetail.company_name }}
              </div>
            </td>
            <td>{{ partyDetail.mobile_no }}</td>
            <td>{{ partyDetail.telephone_no }}</td>
            <td>{{ partyDetail.whatsapp_no }}</td>
            <td>{{ partyDetail.email }}</td>
            <td>{{ partyDetail.date_of_birth }}</td>
            <td>{{ partyDetail.anniversary_date }}</td>
            <td>{{ partyDetail.gstin }}</td>
            <td>{{ partyDetail.pan_no }}</td>
            <td>{{ partyDetail.credit_limit }}</td>
            <td>{{ partyDetail.is_active ? 'Yes' : 'No' }}</td>
            <td>
              <div>
                
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table> -->

    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let element">
          <div class="link" (click)="editPartyDetails(element.id)">
            {{ element.id }}
          </div>
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <!-- Company Name Column -->
      <ng-container matColumnDef="company_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Company Name</th>
        <td mat-cell *matCellDef="let element">{{ element.company_name }}</td>
      </ng-container>

      <!-- Mobile No Column -->
      <ng-container matColumnDef="mobile_no">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Mobile No</th>
        <td mat-cell *matCellDef="let element">{{ element.mobile_no }}</td>
      </ng-container>

      <!-- Telephone No Column -->
      <ng-container matColumnDef="telephone_no">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Telephone No</th>
        <td mat-cell *matCellDef="let element">{{ element.telephone_no }}</td>
      </ng-container>

      <!-- whatsapp No Column -->
      <ng-container matColumnDef="whatsapp_no">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Whatsapp No</th>
        <td mat-cell *matCellDef="let element">{{ element.whatsapp_no }}</td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>

      <!-- Bank Details Column -->
      <ng-container matColumnDef="bank_details">
        <th mat-header-cell *matHeaderCellDef>Bank Details</th>
        <td mat-cell *matCellDef="let element">
          <ul>
            <li *ngFor="let bank of element.bank_id">
              {{ bank.bank_name }} ({{ bank.branch_name }}):
              {{ bank.account_no }} ({{ bank.account_holder_name }})
            </li>
          </ul>
        </td>
      </ng-container>

      <!-- Address Column -->
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef>Address</th>
        <td mat-cell *matCellDef="let element">
          <ul>
            <li *ngFor="let address of element.address">
              {{ address.address_line_1 }}, {{ address.city }},
              {{ address.state }}, {{ address.country }}, {{ address.pincode }}
            </li>
          </ul>
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
        <td mat-cell *matCellDef="let element">
          <button
            type="button"
            mat-icon-button
            color="warn"
            (click)="deleteParty(element.id)"
          >
            Delete
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
